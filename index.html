<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Scoutapark.com - Pragmatic Dockerification</title>

		<meta name="description" content="description of presentation">
		<meta name="author" content="Paul Czarkowski">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/simple.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-35638296-2', 'auto');
		  ga('send', 'pageview');

		</script>
		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-background="images/scoutapark_bg.png">
					<h2>Scoutapark.com</h2>
					<h3>A story of pragmatic dockerization</h3>
					<p><br>
						<small>Created by:
						<br><a href="http://tech.paulcz.net">Paul Czarkowski</a> / <a href="http://twitter.com/pczarkowski">@pczarkowski</a>
						<br><a href="www.linkedin.com/in/danielwsheppard">Dan Sheppard</a>
						<br><br>
						For DevOps Days Austin
						</small>
					</p>
					<aside class="notes">
          Welcome everybody, we're here to talk about scoutapark a very small one man startup with little more than a few big ideas and
          how we're devopsing and dockering to help us get fulfill those big ideas.
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Who are we ?</h2>
 					<p>Dan Sheppard</p>
 					<p><img src="images/unikitty.gif"><br>
					Founder @ ScoutaPark
					<aside class="notes">
					* Product/Project Manager by trade<bR>
					* MBA candidate at Arizona State University<bR>
					* Crazy about ScoutaPark<br>
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Who are we ?</h2>
 					<p>Paul Czarkowski</p>
 					<p><img src="images/bloody_keyboardguy.gif" width="400" height="262"><br>
 					Cloud Engineer @ Bluebox
					<aside class="notes">
					* work at bluebox on private cloud as a service.<br>
					* we install, configure, and operate private cloud so that you don't have to.
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Who are we ?</h2>
 					<p>Paul Czarkowski</p>
 					<p><img src="images/princess_table-flip.gif"><br>
 					Snarky DevOps Princess<br>@ Scoutapark
					<aside class="notes">
					* in my spare time I ....<br>
					* docker - factorish<br>
          * chef community cookbooks - logstash, kibana<br>
					* help Dan out with ScoutaPark
 					</aside>
				</section>

        <section data-background="images/scoutapark_bg_slides.png">
          <h2>WTF are we talking about?</h2>
          <ul>
            <li>What is ScoutaPark?
            <li>Business Challenges
            <li>How we use Docker
          </ul>
          <aside class="notes">
          We want to talk about 3 main things - <br>
          1) What is scoutapark?<br>
          2) Business challenges and Obsticales<br>
          3) Our docker/devops story so far.<br>
          </aside>
        </section>

        <section data-background="images/scoutapark_bg.png">
          <h2>What is ScoutaPark?</h2>
          <p><br><br>
ScoutaPark is a free to use website that connects parents, dog owners, and other park visitors to parks with the exact features they are looking for.
          </p>
          <aside class="notes">
ScoutaPark is to public parks what Yelp is to restaurants. <br>
We help patrons find public parks <br>
Share reviews, pictures, and other information about the parks
          </aside>
        </section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Let's talk business</h2>
					<img src="images/business.jpg" height="25%" width="25%">
					<aside class="notes">
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Goals</h2>
 					<ul>
 						<li>Make money
 						<li> Improve park experience for park patrons
 						<li class="fragment">But mostly make money
 					</ul>
					<aside class="notes">
					* Ad revenue model<br>
					* help people connect with their community resources<br>
					* Selfish<br>
					* Explore other revenue avenues such as data aggregation <br>
					*Ice cream trucks
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Obstacles</h2>
 					<ul>
 						<li>No Money
 						<li>No Time
 						<li>No Developers
 					</ul>
          <aside class="notes">
					* Fulltime student, 3 kids, stay at home wife<br>
					* One man startup...<br>
					* work a day job
					
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Obstacle: No Money </h2>
					<ul>
						<li>Cheap/Free resources for startups
						<li>University programs
						<li>Incubator programs
						<li>Fiver, Craigslist, Elance, Freelancer
          <aside class="notes">
          * Trello,Slack,bitbucket,RAX startup,etc<br>
		  * Arizona State Startup School<br>
		  * Edson Innovation Student Incubator<br>
		  * Negotiate the fees
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Obstacle: No Time </h2>
					<ul>
						<li>Be smart about choices, only implement critical features
						<li>Understanding the problem > Solving the problem
						<li>Present > Future
						<li>Devop all the things
				  </ul>
          <aside class="notes">
		  * talk to potential customers<br>
		  * minimum viable product<br>
		  * Be aware of the future but solve for the present
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Obstacle: No Developers</h2>
					<ul>
					  <li>Pragmatic Language Choices ( PHP )
					  <li>Assume everything needs explained
					  <li>Cheap outsourced developers for initial prototypes/MVP
					  <li>Always be on the lookout for the dev partner
					<ul>
          <aside class="notes">
          * cakephp <br>
		  * Careful with cheap devs <br>
		  * Use mock-ups <br>
		  * Document everything <br>
		  * If we are interesting... let me know
 					</aside>
				</section>

	  		<section data-background="images/scoutapark_bg_slides.png">
					<img src="images/show-me-the-devops.png" height="350">
          <aside class="notes">
          * Enough business,  let's devop.<br>
 					</aside>
				</section>

	  		<section data-background="images/scoutapark_bg_slides.png">
					<img src="images/dockahdockahdockah.gif" height="350">
          <aside class="notes">
          * docker all the things!<br>
          * keep host OS clean, expect multiple languages etc as grow<br>
          * encourage 12 factor style apps from the beginning<br>
          * stateless, loose coupled, etc<br>
          * outsource data persistence to aaS like RDS<br>
          * containers are the future, be prepared<br>
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<img src="images/php_hammer.jpg" height="350">
          <aside class="notes">
          * php isn't your usual dockerable language<br>
          * needs a web server - apache/nginx<br>
          * Probably needs fastcgi style php engine phpfpm or hhvm<br>
          * Lock quirks of PHP into a box<br>
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Golden rules of Docker</h2>
          <h2 class="fragment">that you should ignore</h2>
					<img src="images/5rules.jpg">
          <aside class="notes">
          * They're not actually rules, just BS from ppl who think they know better<br>
          * multiple processes is A-OK<br>
          * don't need ssh in container, but might need docker exec<br>
          * may not need syslog but need central logging.  if haproxy need syslog<br>
          * shouldn't touch a running container, just like shouldn't ever log into a server<br>
          * I do agree that you shouldn't blindly run community images ... but fuckit curl|bash
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
          <h3>http://github.com/factorish</h3>
					<img src="images/dangerous.jpg">
          <aside class="notes">
          * Toolset I developed for making legacy style apps act like 12factor<br>
          * just a collection of things that help tied together<br>
          * basic premise, container becomes 'the app'.  container needs to be 12factor not app inside.<br>
          * ties together tooling to help with config templating, process management, service discovery and more<br>
          * examples from basic python app to full ELK stack with SD, auto-clustering mysql/galera.
 					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
				  <h2>Dockerfile</h2>
					<pre class='stretch'><code data-trim>
FROM scoutapark/base

RUN \
  DEBIAN_FRONTEND=noninteractive apt-get update && apt-get install -y wget && \
  wget -O - http://dl.hhvm.com/conf/hhvm.gpg.key | apt-key add - && \
  echo deb http://dl.hhvm.com/ubuntu trusty main | tee /etc/apt/sources.list.d/hhvm.list && \
  apt-get update && apt-get install -yq \
  hhvm-fastcgi nginx runit mysql-client

RUN \
  curl -sSL -o /usr/local/bin/etcdctl https://s3-us-west-2.amazonaws.com/scoutapark/etcdctl-v0.4.6 \
  && chmod +x /usr/local/bin/etcdctl \
  && curl -sSL -o /usr/local/bin/confd https://s3-us-west-2.amazonaws.com/scoutapark/confd-0.7.1-linux-amd64 \
  && chmod +x /usr/local/bin/confd

ADD . /scoutapark
CMD ["/scoutapark/docker/bin/boot"]
VOLUME /scoutapark
					</code></pre>
          <aside class="notes">
          * hhvm, nginx, runit<br>
          * etcdctl, confd<br>
          * boot script - default env, call confd, start apps.
          * volume - can also use same container as volume container.
          </aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
				  <h2>Docker Compose</h2>
					<pre class="stretch"><code data-trim>
nginx:
  build: .
  command: /scoutapark/docker/bin/boot nginx
  links:
   - mysql
   - hhvm
  ports:
   - "8081:8080"
hhvm:
  build: .
  command: /scoutapark/docker/bin/boot hhvm
  links:
   - mysql
  ports:
   - 9000
mysql:
  image: orchardup/mysql
  ports:
   - "3306:3306"
					</code></pre>
          <aside class="notes">
          * removed env settings to fit on screen<br>
          * just a few seconds to get app running assuming prebuilt.<br>
          * if I run boot without argument it runs both nginx and hhvm<br>
          * as you can see am using community image for mysql... aok.
          </aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
				<img src="images/mission-accomplished.jpg">
					<aside class="notes">
					* done!  docker machine or coreos or deis and go!
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Reality kicks in</h2>
					<ul>
					 <li>Developers not ready for this.
					 <li>Data Persistence.
					 <li>I'm not building this for me.
					</ul>
					<aside class="notes">
					* running windows ( WAMP ), Apache+modphp != nginx+hhvm<br>
					* really really shitty internet connection<br>
					* Language barrier makes teaching devs hard.<br>
					* have to persist data somewhere rackspace aaS offerings not as rich, want to run own db etc<br>
					* I'm just helping out, I may not be the one to operate it.
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Config Management is dead.</h2>
					<h2>Long live Config Management</h2>
					<img src="images/chef_logo.png" height="40%" width="40%">
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker + Config Management</h2>
					<ul>
					  <li>Chef,Puppet,Ansible
					  <li>CM + Docker gives the best of both worlds.
					  <li>Docker ~= packaging format
					<aside class="notes">
					* At this point, all major CM has very functional docker integration.<br>
					* Using CM and Docker together gives you a way to move at your own pace to a more `docker` way of doing things.<br>
					* Start by using CM for managing backing services and state and to manage docker container running.<br>
					* Docker becomes roughly equiv of a packaging format.  Start/Stop container not much diff to a service.<br>
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker Cookbook</h2>
					<p><a href="https://supermarket.chef.io/cookbooks/docker">https://supermarket.chef.io/cookbooks/docker</a>
					<ul>
					  <li>Installs Docker
					  <li>Provides resources for most docker actions.
					  <li>Puppet and Ansible both have roughly equivalent tooling.
					<aside class="notes">
					* installs docker on most OSes<br>
					* LWRPs for build, run, push, etc<br>
					* anything can do in docker can do via cookbook resources<br>
					* at this point, all CM has similar stories.<br>
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker Cookbook</h2>
					<pre class="stretch"><code data-trim>
docker_container 'registry' do
  detach  true
  port    '5000:5000'
  action [:run]
end

docker_image 'scoutapark_app' do
  repository 'scoutapark/app:#{version}'
  registry   '127.0.01:5000'
  action [:pull]
end

docker_container 'scoutpark_app' do
  image "127.0.01:5000/scoutapark/app:#{version}"
  port '8080:8080'
  env 'MYSQL_HOST=10.0.0.22'
  action [:run]
end
					</code></pre>
					<aside class="notes">
					* Run a local registry ( backed by cloud files, code snipped )<br>
					* Run scoutapark nginx container pulled from local registry.<br>
					* Actually using runit to manage running containers, using runit cookbook resources ofc.<br>
          * creates a service to run the container.
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Scoutapark Cookbook</h2>
					<ul>
					  <li>Cookbook lives in app repo /cookbook
					  <li>Vagrantfile for development environment
					  <li>Meez for cookbook skeleton, testing tooling.
					  <li>two role recipes - 'web' and 'database'
					  <li>web can do nginx+hhvm, apache+mod_php, docker
					  <li>database can do mysql or RAX CloudDB
					  <li>local .chef/knife.rb
					</ul>
					<aside class="notes">
					* sort of env sort of app cookbook, heavy usage of community cookbooks.<br>
					* Vagrant to deploy local dev VM ... still trouble with internet speeds.<br>
					* Used meez for skel + test framework.  rubocop, chefspec, serverspec, TK<br>
					* web and database recipes as well as common and security hardening<br>
					* Attribute to choose between ngix, apache, docker<br>
					* Attribute to choose between mysql or DBaaS<br>
					* local .chef/knife.rb has all but user and key.  expects ~/.chef - same with RAX creds.
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Scoutapark Cookbook</h2>
					<ul>
					  <li>vagrant up
					  <li>kitchen test
					  <li>knife-rackspace
					</ul>
					<aside class="notes">
					* as well as docker-compose we now have 3 new ways to run/test an environment.<br>
					* vagrant up for a local or cloud (using rax provider) dev environment<br>
					* kitchen test for cookbook development/testing<br>
					* knife-rackspace for deploying a test/stage/prod environment.<br>
					* need to look at chef-provisioning or terraform.
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>CM + Docker</h2>
					<img src="images/unicorn_meat.jpg" width="40%" height="40%">
					<aside class="notes">
          * we have chef serving up our docker containers<br>
					* still some questions around operations.<br>
					* still have some problems to solve.<br>
          * logging, monitoring, multiple processes, config files...<br>
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker logging</h2>
					  <ul>
					    <li>log to stdout/stderr
					    <li>set log files in nginx to /dev/stdout and /dev/stderr
					<aside class="notes">
					* key is to never write logs to a file in the container<br>
					* most app configs allow setting logfile location.  used /dev/stdout|stderr<br>
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker logging</h2>
					<pre class="stretch"><code data-trim>
# /etc/nginx/nginx.conf

daemon off;
user app app;
pid /app/nginx.pid;
error_log /dev/stderr;
access_log /dev/stdout;
...
					</code></pre>
					<aside class="notes">
					* example nginx config logs set to /dev/stdout<br>
					* also note daemon set to off - foreground.<br>
					* set to run as user 'app'<br>
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker logging</h2>
					<h2>Logspout!</h2>
					<p>sends docker logs -> external syslog
					<pre class="stretch"><code data-trim>
docker_container 'gliderlabs/logspout' do
  detach  true
  volume '/var/run/docker.sock:/tmp/docker.sock:ro'
  command syslog://logs.papertrailapp.com:55555
  name 'logspout'
end
					</code></pre>
					<aside class="notes">
					* logspout by progium saves a ton of work.  as long as all apps log to stdout<br>
					* watches the docker log stream via mapped socket<br>
					* forwards logs to one or more syslog servers defined at runtime<br>
					* can be configured at runtime or via api<br>
					* currently using free papertrail tier, but will switch to elk.<br>
					* also logging all OS logs to papertrail via rsyslog.
					</aside>
				</section>


				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker monitoring</h2>
					<br><br>
					<ul>
					  <li>Docker uses libcontainer for cgroups/namespaces.
					  <li>metrics exposed in weird places in /proc
					  <li>Example - /sys/fs/cgroup/memory/lxc/[longid]/
					  <li>Hard to track where all of these metrics live.
					<p>
          <aside class="notes">
          * docker used to use lxc, now accesses cgroups/namespaces via libcontainer<br>
          * container metrics do get exposed by OS, but are hard to find.<br>
          * Can use collectd or sensu or similar to collect these metrics<br>
          * Docker 1.5 comes with some basic metrics in docker API<br>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker monitoring</h2>
					<h3>CAdvisor</h3>
					<br>
					<ul>
					  <li>Native docker metrics
					  <li>Web UI
					  <li>Rest API
					  <li>InfluxDB and Prometheus outputs.
					  <li>Probably needs to support Graphite.
          <aside class="notes">
          * Cadvisor was written at google for kubernetes, but runs well for any dockered system<br>
          * Has a Web UI to look at local metrics to the machine<br>
          * Has a rest API that you can interrogate for metrics<br>
          * supports sending data to InfluxDB and Prometheus.<br>
          * needs to add support for more metrics storage engines<br>
          </aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker monitoring</h2>
					<h3>CAdvisor</h3>
					<pre class="stretch"><code data-trim>
docker_container 'google/cadvisor:latest' do
  detach  true
  volume [
    '/:/rootfs:ro',
    '/var/run:/var/run:rw',
    '/sys:/sys:ro',
    '/var/lib/docker/:/var/lib/docker:ro'
  ]
  port '127.0.0.1:8080:8080'
  name 'cadvisor'
end
					</code></pre>
					<aside class="notes">
          * the recipe that I install docker with also starts cadvisor.<br>
          * pretty simple to run,  note a bunch of volume mounts<br>
          * most are read only<bR>
          * only allowing localhost to reach the web ports<br>
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Docker monitoring</h2>
					<h3>CAdvisor::InfluxDB::Grafana</h3>
					<img src="images/grafana.png">
					<aside class="notes">
					* sensu/collectd -> influxdb for non-containers<br>
					* grafana for viewing metrics<br>
					* would prefer to use SaaS, but not a lot of good container options
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Configs in Containers</h2>
					<h3><a href="https://github.com/kelseyhightower/confd">confd</a></h3>
					<ul>
					<li>templating engine written in GO.
					<li>key/value pairs from a number of supported storage engines.
					<li>Environment Variables, ETCD, Consul, etc.
					</ul>
					<aside class="notes">
          * we're using confd, is a templating engine written in GO<br>
          * it is designed with SD in mind ( etcd,consul,etc) but also supports ENV<br>
          * go templates are fairly feature rich.<br>
          * there's no better way to handle writing config files in containers.
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Configs in Containers</h2>
					<pre class="stretch"><code data-trim>
# conf.d/app_Config_database.php.toml

[template]
src   = "app_Config_database.php"
dest  = "/scoutapark/app/Config/database.php"
owner = "app"
group = "app"
mode  = "0750"
keys = [
  "/db"
]
check_cmd = "apachectl configtest"
reload_cmd = "apachectl restart"

					</code></pre>
					<aside class="notes">
					* confd metadata<br>
					* src, dest, owner, group, mode<br>
					* set what keys/env vars to poll<br>
					* check_cmd - run a script for syntax checking apachectl configtest<br>
					* reload command - on template change, run a command.  apachectl restart<br>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Configs in Containers</h2>
					<pre class="stretch"><code data-trim>
# templates/app_Config_database.php

class DATABASE_CONFIG {
  public $default = array(
    'datasource' => 'Database/Mysql',
    'persistent' => false,
    'host' => '{{ getv "db/host" }}',
    'login' => '{{ getv "db/user" }}',
    'password' => '{{ getv "db/pass" }}',
    'database' => '{{ getv "db/name" }}',
    'prefix' => 'scout_',
    'encoding' => 'utf8',
  );
}
					</code></pre>
					<aside class="notes">
					* only template config options that change from env to env<br>
					* otherwise can grow to be a large mess of values that need to be configured.<br>
					* can do loops and all sorts of crazy stuff.
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Configs in Containers</h2>
					<pre class="stretch"><code data-trim>
#!/bin/bash
# bin/boot

export DB_HOST=${DB_HOST:-"mysql"}
export DB_PORT=${DB_PORT:-"3306"}
export DB_USER=${DB_USER:-"scoutapark"}
export DB_PASS=${DB_PASS:-"scoutapark"}
export DB_DATA=${DB_NAME:-"scoutapark"}

confd -onetime -config-file /scoutapark/docker/confd_env.toml
exec nginx
wait
					</code></pre>
					<aside class="notes">
          * bash script set to CMD of container<br>
          * load in env variables, set to defaults if empty<br>
          * call confd in single shot mode to write templates<br>
          * if using service discovery omit -onetime flag<br>
          * finally run nginx ( set to non-daemon and logs to stdout )<br>
          * wait helps prevent zombie processes.
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h2>Configs in Containers</h2>
					<pre class="stretch"><code data-trim>
$ docker run -d \
  -e DB_HOST=10.0.0.1 \
  -e DB_USER=scout \
  -e DB_PASS=scout \
  -e DB_NAME=scout \
  --name scoutapark_web \
  -p 8080:8080 \
  scoutapark/web bin/boot
					</code></pre>
					<aside class="notes">
					* regular docker run command<br>
					* env vars here are translated into config files via confd<br>
					* for now always mapping port:port for ease load load balancing
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
					<h1>The Future</h1>
					<img src="images/future.jpg" width=600>
					<aside class="notes">
          * what we're doing now isn't exciting, what I'm going to do is.<br>
          * always think about where want to be when doing the now<br>
          * easier to improve by evolution than revolution<br>
					</aside>
				</section>

				<section data-background="images/scoutapark_bg_slides.png">
          <h1>The Future</h1>
					<h2>Service Discovery</h2>
					<ul>
					<li>confd &lt;3 service discovery
					<li>run confd in daemon mode
					<li>run etcd or consul
					<li>use {{ getenv 'ETCD_HOST' }} for env vars
					</ul>
					<aside class="notes">
          * perfect example is Confd + SD<br>
          * we already have most of the plumbing to do this<br>
					* confd makes it super easy to switch to service discovery<br>
					* use etcd ( consul also fine)<br>
					* registrator to track container->etcd keys<br>
					* proxy/LB reads registrator and dynamically LBs<br>
					</aside>
				</section>

        <section data-background="images/scoutapark_bg_slides.png">
          <h1>The Future</h1>
          <h2>Docker based platform</h2>
          <ul>
          <li>CoreOS + fleet
          <li>Kubernetes
          <li>Deis
          <li>Mesos
          </ul>
          <aside class="notes">
          * don't want to accidently build our own platform<br>
          * plenty of emerging options,  we don't have to choose rigt now<br>
          </aside>
        </section>

        <section data-background="images/scoutapark_bg_slides.png">
          <h1>The Future</h1>
          <h2>Data Persistence</h2>
          <ul>
          <li>Use *aaS where it makes sense
          <li>Continue to use Chef where it doesn't.
          </ul>
          <aside class="notes">
          * We want to outsource as much data persistence as possible where it makes sense.<br>
          * Easy win here will be database.  RDS or CloudDB or ....<br>
          * However we'll likely need to continue to run some of our own. <br>
          * Do what we know here, chef.<br>
          * Our data is too important to trust to something we don't know 100%<br>
          </aside>
        </section>

				<section data-background="images/scoutapark_bg.png">
					<h1>Links</h1>
          <p><a href="http://scoutapark.com">http://scoutapark.com</a></p>
					<p><a href="http://tech.paulcz.net">http://tech.paulcz.net</a></p><br>
          <p><a href="http://tech.paulcz.net">http://github.com/factorish</a></p><br>
				</section>

				<section data-background="images/scoutapark_bg.png">
					<h1>THE END</h1>
					<h3>Paul Czarkowski  / @pczarkowski </h3>
					<h3>Dan Sheppard</h3>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
